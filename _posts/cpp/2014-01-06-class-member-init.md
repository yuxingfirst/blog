---
layout: post
title: c++类成员初始化规则
categories: [linux-c-cpp]
tags: [c++]
description: .
---

通常,我们在编写c++程序的时候,一般都需要将类成员进行初始化。初始化一般在构造函数的初始化列表中进行,例如:
    
    class A
    {
        private:
            int a;
            int b;
            std:string cstr;
        public:
            A(int ia, int ib, int strc):a(ia), b(ib), cstr(strc){}
    };

从概念上讲,可以认为构造函数分两个阶段执行:

1. 初始化阶段。
2. 普通计算阶段。(计算阶段由构造函数函数体中的所有语句组成)  

    不管成员是否在构造函数初始化列表中显示初始化，类类型的数据成员总是在初始化阶段初始化。  

在构造函数初始化列表中没有显示提及的每个成员,使用与**初始化变量**相同的规则来进行初始化。

1. 对于类类型的数据成员,运行该类型的默认构造函数。  
2. 内置类型的成员不进行隐式初始化。  

如果没有为类成员提供初始化式，则编译器会隐式地使用成员类型的默认构造函数。如果那个类没有默认构造函数，则编译器尝试使用默认构造函数将会失败。所以，在这种情况下，为了初始化数据成员，必须提供初始化式。  

有些成员必须在构造函数初始化列表中进行初始化。对于这样的成员，在构造函数中**对他们赋值不起作用**:  

1. 没有默认构造函数的类类型的成员。  
2. const引用类型的成员。  

-EOF-

